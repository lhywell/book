<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
    
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="keywords" content="我秀地图" />
        <title>
            我秀地图－地图API－范例－导航控件操作
        </title>
        <script type="text/javascript" src="http://api.ishowchina.com/v4/webapi/js/auth?v=3.7.0&t=jsmap&ak=ec85d3648154874552835438ac6a02b2"></script>
        <script type="text/javascript">
            var map, navi;
            function $(id) {
                return document.getElementById(id);
            }
            //地图初始化
            function init() {
                map = new IMAP.Map("map",{
                    center:new IMAP.LngLat(116.4038573332,39.91524443385),
                    zoom:10
                });
            }
            //获取锚点值
            function getAnchor(anchor) {
                var a = null;
                switch (anchor) {
                case "1":
                    a = IMAP.Constants.LEFT_TOP;
                    break;
                case "2":
                    a = IMAP.Constants.TOP_CENTER;
                    break;
                case "3":
                    a = IMAP.Constants.RIGHT_TOP;
                    break;
                case "4":
                    a = IMAP.Constants.RIGHT_CENTER;
                    break;
                case "5":
                    a = IMAP.Constants.RIGHT_BOTTOM;
                    break;
                case "6":
                    a = IMAP.Constants.BOTTOM_CENTER;
                    break;
                case "7":
                    a = IMAP.Constants.LEFT_BOTTOM;
                    break;
                case "8":
                    a = IMAP.Constants.LEFT_CENTER;
                    break;
                case "9":
                    a = IMAP.Constants.CENTER;
                    break;
                default:
                    a = IMAP.Constants.LEFT_TOP;
                    break;
                }
                return a;
            }
            function addNavi() {
                if (!navi) {
                    navi = new IMAP.NavigationControl({
                        anchor: IMAP.Constants.LEFT_CENTER
                    });
                    map.addControl(navi);
                }
            }
            function removeNavi() {
                if (navi) {
                    map.removeControl(navi);
                    navi = null;
                } else {
                    alert("导航不存在！");
                }
            }
            function setNaviAnchor() {
                if (navi) {
                    var select = $("navianchor");
                    var selectNum = select.options[select.selectedIndex].value;
                    var labelAnchor = getAnchor(selectNum);
                    navi.setAnchor(labelAnchor);
                } else {
                    alert("导航不存在！");
                }
            }
            function getNaviAnchor() {
                var t = null;
                if (navi) {
                    t = navi.getAnchor();
                    alert(t);
                } else {
                    alert("导航不存在！");
                }
            }
            function setNaviOffset() {
                if (navi) {
                    var offsetX = $("offsetX").value;
                    var offsetY = $("offsetY").value;
                    navi.setOffset(new IMAP.Pixel(offsetX, offsetY));
                } else {
                    alert("导航不存在！");
                }
            }
            function getNaviOffset() {
                var t = null;
                if (navi) {
                    t = navi.getOffset();
                    alert(t.x + ", " + t.y);
                } else {
                    alert("导航不存在！");
                }
            }
            function setVisible() {
                if (!navi) {
                    alert("导航不存在！");
                    return;
                }
                var bool = $("setVisible").checked;
                navi.visible(bool);
            }
        </script>
    </head>
    
    <body onload="init()">
        <div id="map" style="width:70%; height:95%;position: absolute;">
        </div>
        <div style="position:absolute;right:5px;width:28%;height:95%;overflow-y:auto;font-size: 14px;">
            <h2>
                基本操作：
            </h2>
            <button onclick='addNavi()' style="width:80px; height:30px;">
                添加导航
            </button>
            &nbsp;&nbsp;
            <button onclick='removeNavi()' style="width:80px; height:30px;">
                删除导航
            </button>
            <br />
            锚点：
            <select id="navianchor">
                <option value="1"> 左上</option>
                <option value="2">上中</option>
                <option value="3" selected>右上</option>
                <option value="4">右中</option>
                <option value="5">右下 </option>
                <option value="6">底中</option>
                <option value="7"> 左底 </option>
                <option value="8">左中</option>
                <option value="9">中部</option>
            </select>
            <input value="设置导航锚点" type="button" onclick='setNaviAnchor()' style="width:90px; height:30px;"
            />
            &nbsp;&nbsp;
            <input value="获取导航锚点" type="button" onclick='getNaviAnchor()' style="width:90px; height:30px;"
            />
            <br />
            <br />
            <input id="offsetX" value="0" size="3px;" />
            <input id="offsetY" value="0" size="3px;" />
            <input value="设置导航偏移量" type="button" onclick='setNaviOffset()' style="width:100px; height:30px;"
            />
            &nbsp;&nbsp;
            <input value="获取导航偏移量" type="button" onclick='getNaviOffset()' style="width:100px; height:30px;"
            />
            <br />
            <br />
            <input type="checkbox" id="setVisible" onclick="setVisible()" checked
            style="width:30px; height:30px;" />
            是否显示导航
            <br />
            <br />
            <hr />
        </div>
    </body>

</html>